/*********************************************************
 * Licensed under the MIT licenses.
 * Copyright 2015 (c) M.Belikov www.pcolor.offnote.net
 * update 2021
*********************************************************/
!function(h){var i="ontouchend"in document;h.fn.pColor=function(c){for(var o=["ffffff","e8e8e8","d1d1d1","bababa","a3a3a3","8c8c8c","757575","5e5e5e","474747","303030","111111","000000","c5edfc","ccdbfc","cfbbfc","eabcfc","f2c7d9","fad1cf","fbdbce","fde8cd","fdefcd","fcfdd7","f6fad5","d9eacb","8fddfb","9eb7fc","a274f9","d679fc","e991b3","f7a6a1","f9b89d","f8d19c","fadf9c","fdfcaf","edf7ad","c4e5a8","5dcbfa","6d93fa","7630f9","c238f9","de5b8d","f57871","f5956e","f6bb6a","f8d16a","fbfa89","e4f383","a5d77d","37b9f7","426ff9","500ee2","aa15ec","d32767","f24d45","f3723f","f4a63b","f5c13d","fbf963","dcef5c","8acb53","2d91cc","2946fa","3f0aa0","8310ad","a01e4b","f22f1e","f3571b","f39c1f","f4bd22","fbff42","cfeb3a","6aaf38","2479a3","213dc8","2d0880","640c8b","80173e","ce1713","c43f14","c17317","c18d1a","efeb26","b5ca26","588e2e","1b5a7a","192d97","220661","4b0967","60122f","9c110e","932e0f","915511","906913","b3b11c","87981c","416922","123c50","111f65","16013f","330645","3f0c1f","680c0a","621f0a","62390c","60460d","787513","5b6513","2d4716","0d2939","0b1443","10002d","22022f","2b0715","450706","431607","432708","412f09","51500d","3e450c","1e300f"],f=h.extend({onChange:function(){},onSelect:function(){},fill:!1,color:"",skin:"",value:!1,selectorClass:"pcolorSelector",selectorCss:!1},c||{}),d="",e=0;e<o.length;e++)d+='<div style="border-color:#'+o[e]+";background:#"+o[e]+'" data-color="'+o[e]+'" class="colorPicker-pick"><span>&nbsp;</span></div>';h(document).on("mousedown.colorPicker-box",function(c){h(c.target).parents().add(c.target).hasClass("colorPicker-box")||h(".colorPicker-box").fadeOut()});function r(c,o){f.fill&&c.css("background-color","#"+o).attr("data-color",o)}function t(c,o,e){f.value&&e&&(e="#"+e,"input"==c?o.val(e):o.text(e))}var l=0;return this.each(function(c){l++;var b=h(this),v=b.attr("id");v||(v="pcolornotID-"+l,b.attr("id",v));var e=document.getElementById(v).nodeName.toLowerCase(),o=b.attr("data-color")||f.color.replace(/[#]/g,"");f.selectorCss&&b.addClass(f.selectorClass);var a='<div id="colorPicker-'+v+'" class="colorPicker-box '+f.skin+'"><div id="colorPalette-'+v+'" class="colorPicker-palette"><div id="colorTab-'+v+'">'+d+'<br clear="all" /></div></div>';a+=i?'<div id="pcolorClose-'+v+'" class="pcolorClose">&#10060;</div>':'<div id="colorPreview-'+v+'" class="colorPicker-preview"></div>',a+="</div>",h("body").append(a),r(b,o),t(e,b,o),h("#pcolorClose-"+v).click(function(c){h("#colorPicker-"+v).hide()}),h("#colorTab-"+v+" > div").hover(function(){var c=h(this),o="#"+(o=c.attr("data-color"));h("#colorPreview-"+v).css("background",o),"function"==typeof f.onSelect&&f.onSelect.call(this,o,b),c.addClass("colorPicker-hover")},function(){h(this).removeClass("colorPicker-hover")}).click(function(c){var o=h(this).attr("data-color");b.attr("data-color",o),h("#colorPicker-"+v).hide(),"function"==typeof f.onChange&&f.onChange.call(this,"#"+o,b),r(b,o),t(e,b,o)}),b.click(function(c){var o=h("div.colorPicker-box").width(),e=b.offset().top,a=b.offset().left,f=b.height(),d=b.width(),r=h(window).width(),t=h(window).height(),l=h(window).scrollTop(),i=b.attr("data-color"),n=h("#colorPicker-"+v).width(),s=h("#colorPicker-"+v).height();r-(a+d)<n&&(a=a+d-n),t+l-(e+f)<s&&(e-=s),a<0&&(a=0),e<0&&(e=0),r-o<100&&(a=(r-o)/2),h("#colorTab-"+v+" > div").removeClass("colorPicker-select").each(function(c,o){var e=h(this),a=e.attr("data-color");i==a&&e.addClass("colorPicker-select")}),h("#colorPicker-"+v).css({top:e,left:a,display:"block"}).hover(function(){},function(){h(this).hide()})})})}}(jQuery);